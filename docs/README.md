# java-chess

# 체스 게임 1,2단계 미션

## 1. 기능 요구사항

- 콘솔 UI에서 체스 게임을 할 수 있는 기능을 구현한다.

- 체스 말의 이동 규칙을 찾아보고 체스 말이 이동할 수 있도록 구현한다.

- move source위치 target위치을 실행해 이동한다.

- 체스판의 위치 값은 가로 위치는 왼쪽부터 a ~ h이고, 세로는 아래부터 위로 1 ~ 8로 구현한다.

### 1-1. 체스 기물 이동 규칙

#### 폰(Pawn)

- 보드판의 앞쪽으로만 이동할 수 있습니다.

- 처음에만 한 번에 두 칸 앞으로 이동할 수 있습니다. 그 이후에는 한 번에 한 칸 앞으로만 이동할 수 있습니다.
  대각선 방향으로만 상대 말을 잡을 수 있습니다. 즉, 대각선 방향으로 한 칸 앞으로 움직이는 것이 가능합니다.

#### 룩(Rook)

수평 또는 수직 방향으로 이동할 수 있습니다.
즉, 가로 또는 세로로 원하는 만큼 많은 칸을 이동할 수 있습니다.

#### 나이트(Knight):

'L' 모양으로 이동할 수 있습니다. 즉, 수평으로 두 칸 이동한 후에 수직으로 한 칸 이동하거나, 수직으로 두 칸 이동한 후에 수평으로 한 칸 이동합니다.
다른 말들과는 달리 경로에 있는 말들을 뛰어넘을 수 있습니다.

#### 비숍(Bishop):

대각선 방향으로만 이동할 수 있습니다.
즉, 같은 대각선 상의 칸으로만 이동할 수 있습니다.

#### 퀸(Queen):

룩과 비숍의 이동 규칙을 모두 가지고 있습니다.
즉, 수평, 수직, 대각선 방향으로 원하는 만큼 많은 칸을 이동할 수 있습니다.

#### 킹(King):

수평, 수직, 대각선 방향으로 한 칸씩 이동할 수 있습니다.

## 2. 기능 목록

### 2-1. 입력

- [x] 게임 커맨드 입력 받기
    - [x] start , end , move source위치 target위치 만 허용
    - [x] start , end , move 그 이외의 값은 예외처리를 발생하여 게임을 종료한다

### 2-2. 메인 로직 실행

- [x] 체스판을 초기화 한다
- [x] 체스 기물을 이동 한다
    - [x] 퀸 기물을 이동 한다
    - [x] 나이트 기물을 이동 한다
    - [x] 룩 기물을 이동 한다
    - [x] 킹 기물을 이동 한다
    - [x] 폰 기물을 이동 한다
    - [x] 비숍 기물을 이동 한다

### 2-3. 출력

- [x] 초기화된 체스판 출력
  ```
  RNBQKBNR  
  PPPPPPPP  
  ........  
  ........  
  ........  
  ........  
  pppppppp  
  rnbqkbnr  
  ```
  대문자는 `검은색` , 소문자는 `흰색` 말을 의미한다.
    - R은 체스의 `Rook`을 의미한다.
    - N은 체스의 `Knight`을 의미한다.
    - B는 체스의 `Bishop`을 의미한다.
    - Q는 체스의 `Queen`을 의미한다.
    - K는 체스의 `King`을 의미한다.
    - P는 체스의 `Pawn`을 의미한다.

## 3. 실행 결과

```
> 체스 게임을 시작합니다.
> 게임 시작 : start
> 게임 종료 : end
> 게임 이동 : move source위치 target위치 - 예. move b2 b3
start
RNBQKBNR
PPPPPPPP
........
........
........
........
pppppppp
rnbqkbnr

move b2 b3
RNBQKBNR
PPPPPPPP
........
........
........
.p......
p.pppppp
rnbqkbnr
```

### 4. TODO

#### 4-1. 도메인
1. **킹/체크, 체크메이트**:
  - **설명**: 체스에서 킹이 상대방의 공격을 받는 상황을 의미하며, 이때 해당 킹을 구출할 수 있는 방법이 없으면 체크메이트가 성립하여 게임이 종료된다.
    -[ ] 게임 상태에서 킹이 체크 상태에 있는지 확인하는 기능 추가.
    -[ ] 체크 상태에 있는 킹이 움직일 수 있는 모든 위치를 확인하여 해당 킹을 구출할 수 있는지 확인하는 기능 추가.
    -[ ] 체크메이트 상황인지 확인하고, 만약 그렇다면 게임 종료 조건으로 처리하는 로직 추가.

2. **캐슬링**:
  - **설명**: 킹과 룩 사이의 특별한 이동 방법으로, 킹이 첫 번째 행동으로 움직이지 않았고, 킹과 해당 측의 룩이 동일한 방향에 있으며, 이들 사이의 경로에 아무 것도 없을 때 사용할 수 있다.
    -[ ] 킹과 룩이 유효한 위치에 있는지 확인하는 로직 추가.
    -[ ] 캐슬링을 수행하는 로직 추가.


3. **앙파상**:
- **설명**: 폰이 이동하는 특별한 규칙 중 하나로, 상대방의 폰이 두 칸 전진하여 공격 가능한 위치에 놓일 때, 이를 방어하기 위해 한 번에 공격할 수 있는 규칙이다.
    -[ ] 상대방의 폰이 두 칸 전진했을 때, 앙파상을 수행할 수 있는지 확인하는 로직 추가.
    -[ ] 앙파상을 수행할 때, 폰의 이동 및 상대방 폰의 제거를 처리하는 로직 추가.

4. **프로모션**:
- **설명**: 폰이 보드의 반대쪽 끝에 도달하면, 해당 폰을 다른 말로 승격시키는 규칙이다.
    -[ ] 폰이 보드의 반대쪽 끝에 도달했을 때, 프로모션을 선택할 수 있는 기능 추가.
    -[ ] 프로모션 후 해당 폰을 선택한 말로 교체하는 로직 추가.

5. **흑/백 턴 지정**:
- **설명**: 체스 게임에서 흑과 백의 턴을 구분하여 플레이할 수 있도록 지정하는 기능이다.
    -[ ] 각 플레이어의 턴을 구분하여 적절히 변경하는 로직 추가.
    -[ ] 현재 턴이 어느 플레이어인지 확인하고 이를 기반으로 플레이할 수 있는지 여부를 결정하는 로직 추가.
  
6. **예외 처리**:
  - **설명**: 어떤 작업을 수행할 때 오류가 발생하면 예외 처리를 통해 해당 오류를 처리하고, 필요한 경우 작업을 다시 시도할 수 있다.
    -[ ] 예외 발생 시 처리할 로직 추가.
    -[ ] 작업을 다시 시도하는 로직 추가.

7. **Start 하기 전 move 예외**:
  - **설명**: 현재 코드에서는 start를 해야 chessboard가 인스턴스화 된다. 따라서 인스턴스화 이전에 move 명령 시 `nullPointException` 발생
    -[ ] 게임이 시작되기 전에 움직일 수 없는 예외 상황을 확인하는 로직 추가.
    -[ ] 해당 예외 상황이 발생할 경우 적절한 처리 방법을 결정하고 예외를 처리하는 로직 추가.

  

#### 4-2. 기능 요구 사항 
- [ ] DirectionUtil 다중 if문 개선 
- [ ] 코드 라인 10줄 이상의 코드 수정
- [ ] 인덴트 뎁스 2이상 코드 수정
- [ ] getPoint 사용 방향 수정 
- [ ] 전반적인 변수명 & 함수명 수정
- [ ] 테스트 코드 DisplayName & 테스트 코드 리팩토링

## 우아한테크코스 코드리뷰

- [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)
